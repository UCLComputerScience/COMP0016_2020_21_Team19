{% extends 'base.html' %}

{% block sidebar %}
<li class="nav-item">
  <a class="nav-link" href="{% url 'dashboard' %}">
    <span data-feather="home"></span>
    Dashboard
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="{% url 'leaderboard' %}">
    <span data-feather="award"></span>
    Leaderboard
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="{% url 'groups' %}">
    <span data-feather="bar-chart-2"></span>
    Groups
  </a>
</li>
<li class="nav-item">
    <a class="nav-link active" href="{% url 'history' %}">
      <span data-feather="clock"></span>
      History<span class="sr-only">(current)</span>
    </a>
  </li>
{% endblock %}


{% block content %}

<link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.18.2/dist/bootstrap-table.min.css">
<script src="https://unpkg.com/bootstrap-table@1.18.2/dist/bootstrap-table.min.js"></script>

{% if tasks %}
  <div class="table-responsive">
    <table class="table table-striped table-hover" id="table" data-toggle="table">
      <thead>
        <tr>
          <th data-sortable="true" data-field="task_name">Task Name</th>
          <th data-sortable="true" data-field="group">Group</th>
          <th data-sortable="true" data-field="respondents_assigned">Respondents Assigned</th>
          <th data-sortable="true" data-field="responses_received">Responses Received</th>
          <th data-sortable="true" data-field="due_date">Due Date</th>
        </tr>
      </thead>
      <tbody>
        {% for task in tasks %}
          <tr onclick="document.location = '{% url 'task_overview' task.id %}';">
            <td class="align-middle">{{ task.title }}</td>
            <td class="align-middle">{{ task.group }}</td>
            <td class="align-middle">{{ task.num_group_respondents }}</td>
            <td class="align-middle">{{ task.num_responses }}</td>
            <td class="align-middle">
                {{ task.due_date }}
                <small class="text-muted d-block">{{ task.due_time }}</small>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% else %}
  <p class="lead">None of your tasks have been fully completed yet!</p>
{% endif %}

{% endblock %}


{% block scripts %}


{% endblock %}